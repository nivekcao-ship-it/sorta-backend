"use strict";
var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
exports.AgentActionGroup = exports.ParentActionGroupSignature = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
/******************************************************************************
 *                           Signatures
 *****************************************************************************/
/**
 * AWS Defined signatures for enabling certain capabilities in your agent.
 */
class ParentActionGroupSignature {
    /**
     * Constructor should be used as a temporary solution when a new signature is supported
     * but its implementation in CDK hasn't been added yet.
     */
    constructor(value) {
        this.value = value;
    }
    toString() {
        return this.value;
    }
}
exports.ParentActionGroupSignature = ParentActionGroupSignature;
_a = JSII_RTTI_SYMBOL_1;
ParentActionGroupSignature[_a] = { fqn: "@cdklabs/generative-ai-cdk-constructs.bedrock.ParentActionGroupSignature", version: "0.1.309" };
/**
 * Signature that allows your agent to request the user for additional information when trying to complete a task.
 */
ParentActionGroupSignature.USER_INPUT = new ParentActionGroupSignature('AMAZON.UserInput');
/**
 * Signature that allows your agent to generate, run, and troubleshoot code when trying to complete a task.
 */
ParentActionGroupSignature.CODE_INTERPRETER = new ParentActionGroupSignature('AMAZON.CodeInterpreter');
/******************************************************************************
 *                         DEF - Action Group Class
 *****************************************************************************/
class AgentActionGroup {
    // ------------------------------------------------------
    // Static Constructors
    // ------------------------------------------------------
    /**
     * Defines an action group that allows your agent to request the user for
     * additional information when trying to complete a task.
     * @param enabled Specifies whether the action group is available for the agent
     */
    static userInput(enabled) {
        return new AgentActionGroup({
            name: 'UserInputAction',
            enabled: enabled,
            parentActionGroupSignature: ParentActionGroupSignature.USER_INPUT,
        });
    }
    /**
     * Defines an action group that allows your agent to request the user for
     * additional information when trying to complete a task.
     * @param enabled Specifies whether the action group is available for the agent
     */
    static codeInterpreter(enabled) {
        return new AgentActionGroup({
            name: 'CodeInterpreterAction',
            enabled: enabled,
            parentActionGroupSignature: ParentActionGroupSignature.CODE_INTERPRETER,
        });
    }
    constructor(props) {
        // Validate Props
        this.validateProps(props);
        // ------------------------------------------------------
        // Set attributes or defaults
        // ------------------------------------------------------
        this.name = props.name;
        this.description = props.description;
        this.apiSchema = props.apiSchema;
        this.executor = props.executor;
        this.enabled = props.enabled ?? true;
        this.forceDelete = props.forceDelete ?? false;
        this.functionSchema = props.functionSchema;
        this.parentActionGroupSignature = props.parentActionGroupSignature;
    }
    validateProps(props) {
        if (props.parentActionGroupSignature && (props.description || props.apiSchema || props.executor)) {
            throw new Error('When parentActionGroupSignature is specified, you must leave the description, ' +
                'apiSchema, and actionGroupExecutor fields blank for this action group');
        }
    }
    /**
     * Format as CFN properties
     *
     * @internal This is an internal core function and should not be called directly.
     */
    _render() {
        return {
            actionGroupExecutor: this.executor?._render(),
            actionGroupName: this.name,
            actionGroupState: this.enabled ? 'ENABLED' : 'DISABLED',
            apiSchema: this.apiSchema?._render(),
            description: this.description,
            functionSchema: this.functionSchema,
            parentActionGroupSignature: this.parentActionGroupSignature?.toString(),
            skipResourceInUseCheckOnDelete: this.forceDelete,
        };
    }
}
exports.AgentActionGroup = AgentActionGroup;
_b = JSII_RTTI_SYMBOL_1;
AgentActionGroup[_b] = { fqn: "@cdklabs/generative-ai-cdk-constructs.bedrock.AgentActionGroup", version: "0.1.309" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLWdyb3VwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2Nkay1saWIvYmVkcm9jay9hZ2VudHMvYWN0aW9uLWdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBaUJBOzsrRUFFK0U7QUFDL0U7O0dBRUc7QUFDSCxNQUFhLDBCQUEwQjtJQVNyQzs7O09BR0c7SUFDSCxZQUE0QixLQUFhO1FBQWIsVUFBSyxHQUFMLEtBQUssQ0FBUTtJQUFHLENBQUM7SUFDdEMsUUFBUTtRQUNiLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDOztBQWhCSCxnRUFpQkM7OztBQWhCQzs7R0FFRztBQUNvQixxQ0FBVSxHQUFHLElBQUksMEJBQTBCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUN2Rjs7R0FFRztBQUNvQiwyQ0FBZ0IsR0FBRyxJQUFJLDBCQUEwQixDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFxRXJHOzsrRUFFK0U7QUFFL0UsTUFBYSxnQkFBZ0I7SUFDM0IseURBQXlEO0lBQ3pELHNCQUFzQjtJQUN0Qix5REFBeUQ7SUFDekQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBZ0I7UUFDdEMsT0FBTyxJQUFJLGdCQUFnQixDQUFDO1lBQzFCLElBQUksRUFBRSxpQkFBaUI7WUFDdkIsT0FBTyxFQUFFLE9BQU87WUFDaEIsMEJBQTBCLEVBQUUsMEJBQTBCLENBQUMsVUFBVTtTQUNsRSxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBZ0I7UUFDNUMsT0FBTyxJQUFJLGdCQUFnQixDQUFDO1lBQzFCLElBQUksRUFBRSx1QkFBdUI7WUFDN0IsT0FBTyxFQUFFLE9BQU87WUFDaEIsMEJBQTBCLEVBQUUsMEJBQTBCLENBQUMsZ0JBQWdCO1NBQ3hFLENBQUMsQ0FBQztJQUNMLENBQUM7SUFzQ0QsWUFBbUIsS0FBNEI7UUFDN0MsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUIseURBQXlEO1FBQ3pELDZCQUE2QjtRQUM3Qix5REFBeUQ7UUFDekQsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQztRQUNyQyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQztRQUM5QyxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7UUFDM0MsSUFBSSxDQUFDLDBCQUEwQixHQUFHLEtBQUssQ0FBQywwQkFBMEIsQ0FBQztJQUNyRSxDQUFDO0lBRU8sYUFBYSxDQUFDLEtBQTRCO1FBQ2hELElBQUksS0FBSyxDQUFDLDBCQUEwQixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQ2pHLE1BQU0sSUFBSSxLQUFLLENBQ2IsZ0ZBQWdGO2dCQUM5RSx1RUFBdUUsQ0FDMUUsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLE9BQU87UUFDWixPQUFPO1lBQ0wsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUU7WUFDN0MsZUFBZSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQzFCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVTtZQUN2RCxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUU7WUFDcEMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzdCLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYztZQUNuQywwQkFBMEIsRUFBRSxJQUFJLENBQUMsMEJBQTBCLEVBQUUsUUFBUSxFQUFFO1lBQ3ZFLDhCQUE4QixFQUFFLElBQUksQ0FBQyxXQUFXO1NBQ2pELENBQUM7SUFDSixDQUFDOztBQTVHSCw0Q0E2R0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKS4gWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogIHdpdGggdGhlIExpY2Vuc2UuIEEgY29weSBvZiB0aGUgTGljZW5zZSBpcyBsb2NhdGVkIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgb3IgaW4gdGhlICdsaWNlbnNlJyBmaWxlIGFjY29tcGFueWluZyB0aGlzIGZpbGUuIFRoaXMgZmlsZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVNcbiAqICBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuICogIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDZm5BZ2VudCB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1iZWRyb2NrJztcbmltcG9ydCB7IEFjdGlvbkdyb3VwRXhlY3V0b3IgfSBmcm9tICcuL2FwaS1leGVjdXRvcic7XG5pbXBvcnQgeyBBcGlTY2hlbWEgfSBmcm9tICcuL2FwaS1zY2hlbWEnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpZ25hdHVyZXNcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKlxuICogQVdTIERlZmluZWQgc2lnbmF0dXJlcyBmb3IgZW5hYmxpbmcgY2VydGFpbiBjYXBhYmlsaXRpZXMgaW4geW91ciBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlIHtcbiAgLyoqXG4gICAqIFNpZ25hdHVyZSB0aGF0IGFsbG93cyB5b3VyIGFnZW50IHRvIHJlcXVlc3QgdGhlIHVzZXIgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgYSB0YXNrLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBVU0VSX0lOUFVUID0gbmV3IFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlKCdBTUFaT04uVXNlcklucHV0Jyk7XG4gIC8qKlxuICAgKiBTaWduYXR1cmUgdGhhdCBhbGxvd3MgeW91ciBhZ2VudCB0byBnZW5lcmF0ZSwgcnVuLCBhbmQgdHJvdWJsZXNob290IGNvZGUgd2hlbiB0cnlpbmcgdG8gY29tcGxldGUgYSB0YXNrLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBDT0RFX0lOVEVSUFJFVEVSID0gbmV3IFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlKCdBTUFaT04uQ29kZUludGVycHJldGVyJyk7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBzaG91bGQgYmUgdXNlZCBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB3aGVuIGEgbmV3IHNpZ25hdHVyZSBpcyBzdXBwb3J0ZWRcbiAgICogYnV0IGl0cyBpbXBsZW1lbnRhdGlvbiBpbiBDREsgaGFzbid0IGJlZW4gYWRkZWQgeWV0LlxuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmcpIHt9XG4gIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgUFJPUFMgLSBBY3Rpb24gR3JvdXAgQ2xhc3NcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWdlbnRBY3Rpb25Hcm91cFByb3BzIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24gZ3JvdXAuXG4gICAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIGFjdGlvbiBncm91cC5cbiAgICpcbiAgICogQGRlZmF1bHQgLSBObyBkZXNjcmlwdGlvblxuICAgKi9cbiAgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBBUEkgU2NoZW1hXG4gICAqXG4gICAqIEBkZWZhdWx0IC0gTm8gQVBJIFNjaGVtYVxuICAgKi9cbiAgcmVhZG9ubHkgYXBpU2NoZW1hPzogQXBpU2NoZW1hO1xuXG4gIC8qKlxuICAgKiBUaGUgYWN0aW9uIGdyb3VwIGV4ZWN1dG9yLlxuICAgKlxuICAgKiBAZGVmYXVsdCAtIE5vIGV4ZWN1dG9yXG4gICAqL1xuICByZWFkb25seSBleGVjdXRvcj86IEFjdGlvbkdyb3VwRXhlY3V0b3I7XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBhY3Rpb24gZ3JvdXAgaXMgYXZhaWxhYmxlIGZvciB0aGUgYWdlbnQgdG8gaW52b2tlIG9yXG4gICAqIG5vdCB3aGVuIHNlbmRpbmcgYW4gSW52b2tlQWdlbnQgcmVxdWVzdC5cbiAgICpcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgcmVhZG9ubHkgZW5hYmxlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIHRvIGRlbGV0ZSB0aGUgcmVzb3VyY2UgZXZlbiBpZiBpdCdzIGluIHVzZS5cbiAgICpcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJlYWRvbmx5IGZvcmNlRGVsZXRlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGVmaW5lcyBmdW5jdGlvbnMgdGhhdCBlYWNoIGRlZmluZSBwYXJhbWV0ZXJzIHRoYXQgdGhlIGFnZW50IG5lZWRzIHRvIGludm9rZSBmcm9tIHRoZSB1c2VyLlxuICAgKiBOTyBMMiB5ZXQgYXMgdGhpcyBkb2Vzbid0IG1ha2UgbXVjaCBzZW5zZSBJTUhPXG4gICAqL1xuICByZWFkb25seSBmdW5jdGlvblNjaGVtYT86IENmbkFnZW50LkZ1bmN0aW9uU2NoZW1hUHJvcGVydHk7XG5cbiAgLyoqXG4gICAqIFRoZSBBV1MgRGVmaW5lZCBzaWduYXR1cmUgZm9yIGVuYWJsaW5nIGNlcnRhaW4gY2FwYWJpbGl0aWVzIGluIHlvdXIgYWdlbnQuXG4gICAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzcGVjaWZpZWQsIHlvdSBtdXN0IGxlYXZlIHRoZSBkZXNjcmlwdGlvbiwgYXBpU2NoZW1hLFxuICAgKiBhbmQgYWN0aW9uR3JvdXBFeGVjdXRvciBmaWVsZHMgYmxhbmsgZm9yIHRoaXMgYWN0aW9uIGdyb3VwXG4gICAqL1xuICByZWFkb25seSBwYXJlbnRBY3Rpb25Hcm91cFNpZ25hdHVyZT86IFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBERUYgLSBBY3Rpb24gR3JvdXAgQ2xhc3NcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNsYXNzIEFnZW50QWN0aW9uR3JvdXAge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gU3RhdGljIENvbnN0cnVjdG9yc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqXG4gICAqIERlZmluZXMgYW4gYWN0aW9uIGdyb3VwIHRoYXQgYWxsb3dzIHlvdXIgYWdlbnQgdG8gcmVxdWVzdCB0aGUgdXNlciBmb3JcbiAgICogYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB3aGVuIHRyeWluZyB0byBjb21wbGV0ZSBhIHRhc2suXG4gICAqIEBwYXJhbSBlbmFibGVkIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBhY3Rpb24gZ3JvdXAgaXMgYXZhaWxhYmxlIGZvciB0aGUgYWdlbnRcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgdXNlcklucHV0KGVuYWJsZWQ6IGJvb2xlYW4pOiBBZ2VudEFjdGlvbkdyb3VwIHtcbiAgICByZXR1cm4gbmV3IEFnZW50QWN0aW9uR3JvdXAoe1xuICAgICAgbmFtZTogJ1VzZXJJbnB1dEFjdGlvbicsXG4gICAgICBlbmFibGVkOiBlbmFibGVkLFxuICAgICAgcGFyZW50QWN0aW9uR3JvdXBTaWduYXR1cmU6IFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlLlVTRVJfSU5QVVQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lcyBhbiBhY3Rpb24gZ3JvdXAgdGhhdCBhbGxvd3MgeW91ciBhZ2VudCB0byByZXF1ZXN0IHRoZSB1c2VyIGZvclxuICAgKiBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHdoZW4gdHJ5aW5nIHRvIGNvbXBsZXRlIGEgdGFzay5cbiAgICogQHBhcmFtIGVuYWJsZWQgU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGFjdGlvbiBncm91cCBpcyBhdmFpbGFibGUgZm9yIHRoZSBhZ2VudFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjb2RlSW50ZXJwcmV0ZXIoZW5hYmxlZDogYm9vbGVhbik6IEFnZW50QWN0aW9uR3JvdXAge1xuICAgIHJldHVybiBuZXcgQWdlbnRBY3Rpb25Hcm91cCh7XG4gICAgICBuYW1lOiAnQ29kZUludGVycHJldGVyQWN0aW9uJyxcbiAgICAgIGVuYWJsZWQ6IGVuYWJsZWQsXG4gICAgICBwYXJlbnRBY3Rpb25Hcm91cFNpZ25hdHVyZTogUGFyZW50QWN0aW9uR3JvdXBTaWduYXR1cmUuQ09ERV9JTlRFUlBSRVRFUixcbiAgICB9KTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBBdHRyaWJ1dGVzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGFjdGlvbiBncm91cC5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBhY3Rpb24gZ3JvdXAuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgYWN0aW9uIGdyb3VwIGlzIGF2YWlsYWJsZSBmb3IgdGhlIGFnZW50IHRvIGludm9rZSBvciBub3QuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBhcGkgc2NoZW1hIGZvciB0aGlzIGFjdGlvbiBncm91cCAoaWYgZGVmaW5lZCkuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgYXBpU2NoZW1hPzogQXBpU2NoZW1hO1xuICAvKipcbiAgICogVGhlIGFjdGlvbiBncm91cCBleGVjdXRvciBmb3IgdGhpcyBhY3Rpb24gZ3JvdXAgKGlmIGRlZmluZWQpLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGV4ZWN1dG9yPzogQWN0aW9uR3JvdXBFeGVjdXRvcjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZGVsZXRlIHRoZSByZXNvdXJjZSBldmVuIGlmIGl0J3MgaW4gdXNlLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGZvcmNlRGVsZXRlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbiBzY2hlbWEgZm9yIHRoaXMgYWN0aW9uIGdyb3VwIChpZiBkZWZpbmVkKS5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBmdW5jdGlvblNjaGVtYT86IENmbkFnZW50LkZ1bmN0aW9uU2NoZW1hUHJvcGVydHk7XG4gIC8qKlxuICAgKiBUaGUgQVdTIERlZmluZWQgc2lnbmF0dXJlIChpZiBkZWZpbmVkKS5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBwYXJlbnRBY3Rpb25Hcm91cFNpZ25hdHVyZT86IFBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcm9wczogQWdlbnRBY3Rpb25Hcm91cFByb3BzKSB7XG4gICAgLy8gVmFsaWRhdGUgUHJvcHNcbiAgICB0aGlzLnZhbGlkYXRlUHJvcHMocHJvcHMpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gU2V0IGF0dHJpYnV0ZXMgb3IgZGVmYXVsdHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB0aGlzLm5hbWUgPSBwcm9wcy5uYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBwcm9wcy5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLmFwaVNjaGVtYSA9IHByb3BzLmFwaVNjaGVtYTtcbiAgICB0aGlzLmV4ZWN1dG9yID0gcHJvcHMuZXhlY3V0b3I7XG4gICAgdGhpcy5lbmFibGVkID0gcHJvcHMuZW5hYmxlZCA/PyB0cnVlO1xuICAgIHRoaXMuZm9yY2VEZWxldGUgPSBwcm9wcy5mb3JjZURlbGV0ZSA/PyBmYWxzZTtcbiAgICB0aGlzLmZ1bmN0aW9uU2NoZW1hID0gcHJvcHMuZnVuY3Rpb25TY2hlbWE7XG4gICAgdGhpcy5wYXJlbnRBY3Rpb25Hcm91cFNpZ25hdHVyZSA9IHByb3BzLnBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlO1xuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZVByb3BzKHByb3BzOiBBZ2VudEFjdGlvbkdyb3VwUHJvcHMpIHtcbiAgICBpZiAocHJvcHMucGFyZW50QWN0aW9uR3JvdXBTaWduYXR1cmUgJiYgKHByb3BzLmRlc2NyaXB0aW9uIHx8IHByb3BzLmFwaVNjaGVtYSB8fCBwcm9wcy5leGVjdXRvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1doZW4gcGFyZW50QWN0aW9uR3JvdXBTaWduYXR1cmUgaXMgc3BlY2lmaWVkLCB5b3UgbXVzdCBsZWF2ZSB0aGUgZGVzY3JpcHRpb24sICcgK1xuICAgICAgICAgICdhcGlTY2hlbWEsIGFuZCBhY3Rpb25Hcm91cEV4ZWN1dG9yIGZpZWxkcyBibGFuayBmb3IgdGhpcyBhY3Rpb24gZ3JvdXAnLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGFzIENGTiBwcm9wZXJ0aWVzXG4gICAqXG4gICAqIEBpbnRlcm5hbCBUaGlzIGlzIGFuIGludGVybmFsIGNvcmUgZnVuY3Rpb24gYW5kIHNob3VsZCBub3QgYmUgY2FsbGVkIGRpcmVjdGx5LlxuICAgKi9cbiAgcHVibGljIF9yZW5kZXIoKTogQ2ZuQWdlbnQuQWdlbnRBY3Rpb25Hcm91cFByb3BlcnR5IHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uR3JvdXBFeGVjdXRvcjogdGhpcy5leGVjdXRvcj8uX3JlbmRlcigpLFxuICAgICAgYWN0aW9uR3JvdXBOYW1lOiB0aGlzLm5hbWUsXG4gICAgICBhY3Rpb25Hcm91cFN0YXRlOiB0aGlzLmVuYWJsZWQgPyAnRU5BQkxFRCcgOiAnRElTQUJMRUQnLFxuICAgICAgYXBpU2NoZW1hOiB0aGlzLmFwaVNjaGVtYT8uX3JlbmRlcigpLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBmdW5jdGlvblNjaGVtYTogdGhpcy5mdW5jdGlvblNjaGVtYSxcbiAgICAgIHBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlOiB0aGlzLnBhcmVudEFjdGlvbkdyb3VwU2lnbmF0dXJlPy50b1N0cmluZygpLFxuICAgICAgc2tpcFJlc291cmNlSW5Vc2VDaGVja09uRGVsZXRlOiB0aGlzLmZvcmNlRGVsZXRlLFxuICAgIH07XG4gIH1cbn1cbiJdfQ==