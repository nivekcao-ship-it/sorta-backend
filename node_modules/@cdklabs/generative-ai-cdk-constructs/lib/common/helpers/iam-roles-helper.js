"use strict";
/**
 *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance
 *  with the License. A copy of the License is located at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  or in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES
 *  OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions
 *  and limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.createIAMRoleWithBasicExecutionPolicy = createIAMRoleWithBasicExecutionPolicy;
exports.addRolePolicies = addRolePolicies;
const cdk = require("aws-cdk-lib");
function createIAMRoleWithBasicExecutionPolicy(cdkStack, roleId, roleDescription) {
    const role = new cdk.aws_iam.Role(cdkStack, roleId, {
        description: roleDescription,
        assumedBy: new cdk.aws_iam.ServicePrincipal('lambda.amazonaws.com'),
    });
    role.addManagedPolicy(cdk.aws_iam.ManagedPolicy.fromAwsManagedPolicyName('service-role/AWSLambdaBasicExecutionRole'));
    return role;
}
function addRolePolicies(role, statements) {
    statements.forEach(props => {
        role.addToPolicy(new cdk.aws_iam.PolicyStatement(props));
    });
    return role;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWFtLXJvbGVzLWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vaGVscGVycy9pYW0tcm9sZXMtaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7R0FXRzs7QUFLSCxzRkFxQkM7QUFFRCwwQ0FLQztBQS9CRCxtQ0FBbUM7QUFHbkMsU0FBZ0IscUNBQXFDLENBQ25ELFFBQW1CLEVBQ25CLE1BQWMsRUFDZCxlQUF1QjtJQUV2QixNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUMvQixRQUFRLEVBQ1IsTUFBTSxFQUNOO1FBQ0UsV0FBVyxFQUFFLGVBQWU7UUFDNUIsU0FBUyxFQUFFLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQztLQUNwRSxDQUNGLENBQUM7SUFFRixJQUFJLENBQUMsZ0JBQWdCLENBQ25CLEdBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUNoRCwwQ0FBMEMsQ0FDM0MsQ0FDRixDQUFDO0lBRUYsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQsU0FBZ0IsZUFBZSxDQUFDLElBQXNCLEVBQUUsVUFBOEM7SUFDcEcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpLiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiAgd2l0aCB0aGUgTGljZW5zZS4gQSBjb3B5IG9mIHRoZSBMaWNlbnNlIGlzIGxvY2F0ZWQgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBvciBpbiB0aGUgJ2xpY2Vuc2UnIGZpbGUgYWNjb21wYW55aW5nIHRoaXMgZmlsZS4gVGhpcyBmaWxlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFU1xuICogIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXG4gKiAgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlBTVJvbGVXaXRoQmFzaWNFeGVjdXRpb25Qb2xpY3koXG4gIGNka1N0YWNrOiBDb25zdHJ1Y3QsXG4gIHJvbGVJZDogc3RyaW5nLFxuICByb2xlRGVzY3JpcHRpb246IHN0cmluZyxcbik6IGNkay5hd3NfaWFtLlJvbGUge1xuICBjb25zdCByb2xlID0gbmV3IGNkay5hd3NfaWFtLlJvbGUoXG4gICAgY2RrU3RhY2ssXG4gICAgcm9sZUlkLFxuICAgIHtcbiAgICAgIGRlc2NyaXB0aW9uOiByb2xlRGVzY3JpcHRpb24sXG4gICAgICBhc3N1bWVkQnk6IG5ldyBjZGsuYXdzX2lhbS5TZXJ2aWNlUHJpbmNpcGFsKCdsYW1iZGEuYW1hem9uYXdzLmNvbScpLFxuICAgIH0sXG4gICk7XG5cbiAgcm9sZS5hZGRNYW5hZ2VkUG9saWN5KFxuICAgIGNkay5hd3NfaWFtLk1hbmFnZWRQb2xpY3kuZnJvbUF3c01hbmFnZWRQb2xpY3lOYW1lKFxuICAgICAgJ3NlcnZpY2Utcm9sZS9BV1NMYW1iZGFCYXNpY0V4ZWN1dGlvblJvbGUnLFxuICAgICksXG4gICk7XG5cbiAgcmV0dXJuIHJvbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSb2xlUG9saWNpZXMocm9sZTogY2RrLmF3c19pYW0uUm9sZSwgc3RhdGVtZW50czogY2RrLmF3c19pYW0uUG9saWN5U3RhdGVtZW50UHJvcHNbXSk6IGNkay5hd3NfaWFtLlJvbGUge1xuICBzdGF0ZW1lbnRzLmZvckVhY2gocHJvcHMgPT4ge1xuICAgIHJvbGUuYWRkVG9Qb2xpY3kobmV3IGNkay5hd3NfaWFtLlBvbGljeVN0YXRlbWVudChwcm9wcykpO1xuICB9KTtcbiAgcmV0dXJuIHJvbGU7XG59XG4iXX0=